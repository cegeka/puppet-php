<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Module: apache</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;

    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }

  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )

  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Module</strong></td>
          <td class="class-name-in-header">apache</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/vhost/ssl_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/vhost/ssl.pp
                </a>
        <br />
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/userdirinstance_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/userdirinstance.pp
                </a>
        <br />
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/balancer_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/balancer.pp
                </a>
        <br />
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/security_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/security.pp
                </a>
        <br />
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/conf_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/conf.pp
                </a>
        <br />
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/namevhost_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/namevhost.pp
                </a>
        <br />
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/redirectmatch_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/redirectmatch.pp
                </a>
        <br />
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/reverseproxy_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/reverseproxy.pp
                </a>
        <br />
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/base/ssl_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/base/ssl.pp
                </a>
        <br />
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/debian_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/debian.pp
                </a>
        <br />
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/directive_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/directive.pp
                </a>
        <br />
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/aw-stats_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/aw-stats.pp
                </a>
        <br />
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/proxypass_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/proxypass.pp
                </a>
        <br />
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/administration_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/administration.pp
                </a>
        <br />
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/vhost_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/vhost.pp
                </a>
        <br />
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/vhost-ssl_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/vhost-ssl.pp
                </a>
        <br />
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/module_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/module.pp
                </a>
        <br />
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/redhat/selinux_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/redhat/selinux.pp
                </a>
        <br />
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/params_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/params.pp
                </a>
        <br />
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/redhat_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/redhat.pp
                </a>
        <br />
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/awstats_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/awstats.pp
                </a>
        <br />
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/listen_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/listen.pp
                </a>
        <br />
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/auth/htgroup_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/auth/htgroup.pp
                </a>
        <br />
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/auth/htpasswd_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/auth/htpasswd.pp
                </a>
        <br />
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/auth/basic/ldap_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/auth/basic/ldap.pp
                </a>
        <br />
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/auth/basic/file/group_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/auth/basic/file/group.pp
                </a>
        <br />
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/auth/basic/file/user_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/auth/basic/file/user.pp
                </a>
        <br />
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/auth/basic/file/webdav/user_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/auth/basic/file/webdav/user.pp
                </a>
        <br />
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/init_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/init.pp
                </a>
        <br />
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/collectd_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/collectd.pp
                </a>
        <br />
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/base_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/base.pp
                </a>
        <br />
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/webdav/instance_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/webdav/instance.pp
                </a>
        <br />
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/webdav/svn_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/webdav/svn.pp
                </a>
        <br />
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/webdav/base_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/webdav/base.pp
                </a>
        <br />
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/webdav/ssl_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/webdav/ssl.pp
                </a>
        <br />
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/webdav/ssl/debian_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/webdav/ssl/debian.pp
                </a>
        <br />
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/userdir_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/userdir.pp
                </a>
        <br />
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/svnserver_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/svnserver.pp
                </a>
        <br />
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/ssl_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/ssl.pp
                </a>
        <br />
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/confd_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/confd.pp
                </a>
        <br />
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/deflate_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/deflate.pp
                </a>
        <br />
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/ssl/debian_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/ssl/debian.pp
                </a>
        <br />
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/ssl/redhat_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/ssl/redhat.pp
                </a>
        <br />
                <a href="../files/home/bkfda/gitrepo/public/apache/manifests/dev_pp.html">
                /home/bkfda/gitrepo/public/apache/manifests/dev.pp
                </a>
        <br />
            </td>
        </tr>

        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
Types #####
</p>
<p>
# Authentication, Authorization and Access Control
</p>
<p>
Definitions related to the <a href="apache.html">apache</a> authentication
should always be in the form :
</p>
<p>
apache::auth::type::provider::authorization
</p>
<p>
To be consistent with the three types of Apache modules involved in the
authentication and authorization process : <a
href="http://httpd.apache.org/docs/2.2/howto/auth.html">httpd.apache.org/docs/2.2/howto/auth.html</a>
</p>
<p>
The main advantages of this new way to manage authentication are the
possibility of sharing resources between virtual hosts and access
restrictions
</p>
<p>
###################################### ## Simple Basic File Authentication
## ######################################
</p>
<p>
Example:
</p>
<ol>
<li>create one or more <a href="users.html">users</a> :

<p>
apache::auth::htpasswd {&quot;user1 in /a/path/htpasswd&quot;:
</p>
<pre>
 ensure =&gt; present,
 userFileLocation =&gt; &quot;/srv/a/path&quot;,
 userFileName =&gt; &quot;htpasswd&quot;,
 username =&gt; &quot;user1&quot;,
 clearPassword =&gt; &quot;user1&quot;, # use encryption in definition
  }

  apache::auth::htpasswd {&quot;user2 in /var/www/camptocamp.com/private/htpasswd&quot;:
    ensure =&gt; present,
    vhost =&gt; &quot;camptocamp.com&quot;
    username =&gt; &quot;user2&quot;,
    cryptPassword =&gt; 'kdrY191UyPY3E', # (htpasswd -ndb user2 user2)
  }
</pre>
</li>
<li>create one or more groups :

</li>
</ol>
<pre>
  apache::auth::htgroup {&quot;group1 in /var/www/camptocamp.com/private/htgroup&quot;:
    ensure =&gt; present,
    groupname =&gt; &quot;group1&quot;,
    members =&gt; &quot;user1 user2&quot;,
  }
</pre>
<ol>
<li>restrict access to a location with these <a href="users.html">users</a> our
groups

</li>
</ol>
<pre>
  apache::auth::basic::file::group {&quot;group1-webdav1&quot;:
    vhost =&gt; &quot;camptocamp.com&quot;,
    location =&gt; &quot;/webdav1&quot;,
    groups =&gt; &quot;group1&quot;,
  }

  apache::auth::basic::file::user {&quot;user1-on-webdav2&quot;:
    vhost =&gt; &quot;camptocamp.com&quot;,
    location =&gt; &quot;/webdav2&quot;,
    authUserFile =&gt; &quot;/srv/dav0/htpasswd&quot;,
    users =&gt; &quot;user1&quot;, # it not defined -&gt; 'valid-user'
  }
</pre>
<p>
############################### ## Basic LDAP Authentication ##
###############################
</p>
<p>
Example:
</p>
<p>
apache::auth::basic::ldap {&quot;<a
href="apache/collectd.html">collectd</a>&quot;:
</p>
<pre>
  vhost =&gt; $fqdn,
  location =&gt; &quot;/collection3&quot;,
  authLDAPUrl =&gt; 'ldap://ldap.foobar.ch/c=ch?uid??',
  authLDAPGroupAttribute =&gt; &quot;memberUid&quot;,
  authLDAPGroupAttributeIsDN =&gt; &quot;off&quot;,
  authzRequire =&gt; &quot;ldap-group ou=foo,ou=bar,o=entreprises,c=ch&quot;,
</pre>
<p>
}
</p>

    </div>


   </div>

<!-- if childs -->

    <div id="method-list">
      <h3 class="section-bar">Defines</h3>

      <div class="name-list">
      <a href="#M000342">aw-stats</a>&nbsp;&nbsp;
      <a href="#M000337">balancer</a>&nbsp;&nbsp;
      <a href="#M000338">conf</a>&nbsp;&nbsp;
      <a href="#M000348">confd</a>&nbsp;&nbsp;
      <a href="#M000341">directive</a>&nbsp;&nbsp;
      <a href="#M000347">listen</a>&nbsp;&nbsp;
      <a href="#M000346">module</a>&nbsp;&nbsp;
      <a href="#M000339">namevhost</a>&nbsp;&nbsp;
      <a href="#M000343">proxypass</a>&nbsp;&nbsp;
      <a href="#M000340">redirectmatch</a>&nbsp;&nbsp;
      <a href="#M000336">userdirinstance</a>&nbsp;&nbsp;
      <a href="#M000344">vhost</a>&nbsp;&nbsp;
      <a href="#M000345">vhost-ssl</a>&nbsp;&nbsp;
      </div>
    </div>


  </div>


    <!-- if includes -->

    <!-- if requires -->

    <!-- if realizes -->

    <div id="section">

<!-- if facts -->

<!-- if plugins -->

<!-- if nodes -->

<!-- if class -->
    <div id="class-list">
      <h3 class="section-bar">Classes and Modules</h3>

      Class <a href="apache/administration.html" class="link">apache::administration</a><br />
Class <a href="apache/apache.html" class="link">apache::apache</a><br />
Class <a href="apache/auth.html" class="link">apache::auth</a><br />
Class <a href="apache/awstats.html" class="link">apache::awstats</a><br />
Class <a href="apache/base.html" class="link">apache::base</a><br />
Class <a href="apache/collectd.html" class="link">apache::collectd</a><br />
Class <a href="apache/debian.html" class="link">apache::debian</a><br />
Class <a href="apache/deflate.html" class="link">apache::deflate</a><br />
Class <a href="apache/dev.html" class="link">apache::dev</a><br />
Class <a href="apache/params.html" class="link">apache::params</a><br />
Class <a href="apache/redhat.html" class="link">apache::redhat</a><br />
Class <a href="apache/reverseproxy.html" class="link">apache::reverseproxy</a><br />
Class <a href="apache/security.html" class="link">apache::security</a><br />
Class <a href="apache/ssl.html" class="link">apache::ssl</a><br />
Class <a href="apache/svnserver.html" class="link">apache::svnserver</a><br />
Class <a href="apache/userdir.html" class="link">apache::userdir</a><br />
Class <a href="apache/vhost.html" class="link">apache::vhost</a><br />
Class <a href="apache/webdav.html" class="link">apache::webdav</a><br />

    </div>







    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Defines</h3>

      <div id="method-M000342" class="method-detail">
        <a name="M000342"></a>

        <div class="method-heading">
          <span class="method-name">aw-stats</span><span class="method-args">( $ensure =&gt; 'present', $aliases =&gt; [] )</span>
        </div>

        <div class="method-description">
        </div>
      </div>

      <div id="method-M000337" class="method-detail">
        <a name="M000337"></a>

        <div class="method-heading">
          <span class="method-name">balancer</span><span class="method-args">( $standbyurl =&gt; '', $params =&gt; ['&quot;retry=5&quot;'], $filename =&gt; '', $location =&gt; '', $ensure =&gt; 'present', $vhost, $members =&gt; [], $proto =&gt; 'http' )</span>
        </div>

        <div class="method-description">
          <h2>Definition: apache::balancer</h2>
<p>
Define a basic balanced proxy, to split requests between different
backends, with an optional hot standby server.
</p>
<p>
This definition will ensure all the required modules are loaded and will
drop a configuration snippet in the virtualhost&#8216;s <a
href="apache.html#M000338">conf</a>/ directory.
</p>
<p>
Parameters:
</p>
<ul>
<li><b>ensure</b>: present/absent.

</li>
<li><b>location</b>: path to balance between backends.

</li>
<li><b>proto</b>: protocol used to communicate with the backends.
&quot;http&quot; or &quot;ajp&quot; are the usual suspects.
&quot;http&quot; is the default.

</li>
<li><b>members</b>: array of &quot;hostname:port&quot; pairs for each
registered backend.

</li>
<li><b>standbyurl</b>: optional URL of the sorryserver (requests will get
directed to this address when all backends are dead).

</li>
<li><b><a href="apache/params.html">params</a></b>: array of parameters to pass
to every backend. See: <a
href="http://httpd.apache.org/docs/2.2/mod/mod_proxy.html#proxypass">httpd.apache.org/docs/2.2/mod/mod_proxy.html#proxypass</a>
Defaults to &quot;retry=5&quot;

</li>
<li><b><a href="apache.html#M000344">vhost</a></b>: the virtualhost to which
this <a href="apache.html#M000341">directive</a> will apply. Mandatory
parameter.

</li>
<li><b>filename</b>: basename of the file in which the <a
href="apache.html#M000341">directive</a>(s) will be put. Useful in the case
<a href="apache.html#M000341">directive</a> order matters: <a
href="apache.html">apache</a> reads the files in <a
href="apache.html#M000338">conf</a>/ in alphabetical order.

</li>
</ul>
<p>
Requires:
</p>
<ul>
<li>Class[&quot;<a href="apache.html">apache</a>&quot;]

</li>
<li>matching Apache::Vhost[] instance

</li>
</ul>
<p>
Example usage:
</p>
<pre>
  apache::balancer { &quot;my balanced service&quot;:
    location   =&gt; &quot;/mywebapp/&quot;,
    proto      =&gt; &quot;ajp&quot;,
    members    =&gt; [
      &quot;node1.cluster:8009&quot;,
      &quot;node2.cluster:8009&quot;,
      &quot;node3.cluster:8009&quot;
    ],
    params     =&gt; [&quot;retry=20&quot;, &quot;min=3&quot;, &quot;flushpackets=auto&quot;],
    standbyurl =&gt; &quot;http://sorryserver.cluster/&quot;,
    vhost      =&gt; &quot;www.example.com&quot;,
  }
</pre>
        </div>
      </div>

      <div id="method-M000338" class="method-detail">
        <a name="M000338"></a>

        <div class="method-heading">
          <span class="method-name">conf</span><span class="method-args">( $prefix =&gt; 'configuration', $filename =&gt; '', $configuration, $ensure =&gt; 'present', $path )</span>
        </div>

        <div class="method-description">
          <h2>Definition: apache::conf</h2>
<p>
Convenient wrapper around File[] resources to add random configuration
snippets to <a href="apache.html">apache</a>. Shouldn&#8216;t be called
directly - please see apache::confd and apache::directive
</p>
<p>
Parameters:
</p>
<ul>
<li><b>ensure</b>: present/absent.

</li>
<li><b>configuration</b>: <a href="apache.html">apache</a> configuration(s) to
be applied

</li>
<li><b>filename</b>: basename of the file in which the configuration(s) will be
put.

<pre>
                  Useful in the case configuration order matters: apache reads the files in conf.d/
                  in alphabetical order.
</pre>
</li>
<li><b>prefix</b>: filename prefix

</li>
<li><b>path</b>: directory for the file

</li>
</ul>
<p>
Requires:
</p>
<ul>
<li>Class[&quot;<a href="apache.html">apache</a>&quot;]

</li>
</ul>
<p>
Example usage:
</p>
<pre>
  apache::conf { &quot;example 1&quot;:
    ensure        =&gt; present,
    path          =&gt; /var/www/foo/conf
    configuration =&gt; &quot;WSGIPythonEggs /var/cache/python-eggs&quot;,
  }
</pre>
        </div>
      </div>

      <div id="method-M000348" class="method-detail">
        <a name="M000348"></a>

        <div class="method-heading">
          <span class="method-name">confd</span><span class="method-args">( $filename =&gt; '', $configuration, $ensure =&gt; 'present' )</span>
        </div>

        <div class="method-description">
          <h2>Definition: apache::confd</h2>
<p>
Convenient wrapper around apache::conf definition to put configuration
snippets in ${apache::params::conf}/conf.d directory
</p>
<p>
Parameters:
</p>
<ul>
<li><b>ensure</b>: present/absent.

</li>
<li><b>configuration</b>: <a href="apache.html">apache</a> configuration(s) to
be applied

</li>
<li><b>filename</b>: basename of the file in which the configuration(s) will be
put. Useful in the case configuration order matters: <a
href="apache.html">apache</a> reads the files in conf.d/ in alphabetical
order.

</li>
</ul>
<p>
Requires:
</p>
<ul>
<li>Class[&#8216;<a href="apache.html">apache</a>&#8217;]

</li>
</ul>
<p>
Example usage:
</p>
<pre>
  apache::confd { 'example 1':
    ensure        =&gt; present,
    configuration =&gt; 'WSGIPythonEggs /var/cache/python-eggs',
  }
</pre>
        </div>
      </div>

      <div id="method-M000341" class="method-detail">
        <a name="M000341"></a>

        <div class="method-heading">
          <span class="method-name">directive</span><span class="method-args">( $directive =&gt; '', $filename =&gt; '', $ensure =&gt; 'present', $vhost )</span>
        </div>

        <div class="method-description">
          <h2>Definition: apache::directive</h2>
<p>
Convenient wrapper around apache::conf resources to add random
configuration snippets to an <a href="apache.html">apache</a> virtualhost.
</p>
<p>
Parameters:
</p>
<ul>
<li><b>ensure</b>: present/absent.

</li>
<li><b><a href="apache.html#M000341">directive</a></b>: <a
href="apache.html">apache</a> <a
href="apache.html#M000341">directive</a>(s) to be applied in the
corresponding &lt;VirtualHost&gt; section.

</li>
<li><b><a href="apache.html#M000344">vhost</a></b>: the virtualhost to which
this <a href="apache.html#M000341">directive</a> will apply. Mandatory.

</li>
<li><b>filename</b>: basename of the file in which the <a
href="apache.html#M000341">directive</a>(s) will be put. Useful in the case
<a href="apache.html#M000341">directive</a> order matters: <a
href="apache.html">apache</a> reads the files in <a
href="apache.html#M000338">conf</a>/ in alphabetical order.

</li>
</ul>
<p>
Requires:
</p>
<ul>
<li>Class[&#8216;<a href="apache.html">apache</a>&#8217;]

</li>
<li>matching Apache::Vhost[] instance

</li>
</ul>
<p>
Example usage:
</p>
<pre>
  apache::directive { 'example 1':
    ensure    =&gt; present,
    directive =&gt; '
      RewriteEngine on
      RewriteRule ^/?$ https://www.example.com/
    ',
    vhost     =&gt; 'www.example.com',
  }

  apache::directive { 'example 2':
    ensure    =&gt; present,
    directive =&gt; content('example/snippet.erb'),
    vhost     =&gt; 'www.example.com',
  }
</pre>
        </div>
      </div>

      <div id="method-M000347" class="method-detail">
        <a name="M000347"></a>

        <div class="method-heading">
          <span class="method-name">listen</span><span class="method-args">( $ensure =&gt; 'present' )</span>
        </div>

        <div class="method-description">
          <h2>Definition: apache::listen</h2>
<p>
Adds a &quot;Listen&quot; <a href="apache.html#M000341">directive</a> to <a
href="apache.html">apache</a>&#8216;s port.conf file.
</p>
<p>
Parameters:
</p>
<ul>
<li><b>ensure</b>: present/absent.

</li>
<li><b>name</b>: port number, or ipaddress:port

</li>
</ul>
<p>
Requires:
</p>
<ul>
<li>Class[&quot;<a href="apache.html">apache</a>&quot;]

</li>
</ul>
<p>
Example usage:
</p>
<pre>
  apache::listen { &quot;80&quot;: }
  apache::listen { &quot;127.0.0.1:8080&quot;: ensure =&gt; present }
</pre>
        </div>
      </div>

      <div id="method-M000346" class="method-detail">
        <a name="M000346"></a>

        <div class="method-heading">
          <span class="method-name">module</span><span class="method-args">( $ensure =&gt; 'present' )</span>
        </div>

        <div class="method-description">
        </div>
      </div>

      <div id="method-M000339" class="method-detail">
        <a name="M000339"></a>

        <div class="method-heading">
          <span class="method-name">namevhost</span><span class="method-args">( $ensure =&gt; 'present' )</span>
        </div>

        <div class="method-description">
          <h2>Definition: apache::namevhost</h2>
<p>
Adds a &quot;NameVirtualHost&quot; <a
href="apache.html#M000341">directive</a> to <a
href="apache.html">apache</a>&#8216;s port.conf file.
</p>
<p>
Every &quot;ports&quot; parameter you define Apache::Vhost resources should
have a matching NameVirtualHost <a
href="apache.html#M000341">directive</a>.
</p>
<p>
Parameters:
</p>
<ul>
<li><b>ensure</b>: present/absent.

</li>
<li><b>name</b>: ipaddress or ipaddress:port

</li>
</ul>
<p>
Requires:
</p>
<ul>
<li>Class[&quot;<a href="apache.html">apache</a>&quot;]

</li>
</ul>
<p>
Example usage:
</p>
<pre>
  apache::namevhost { &quot;*:80&quot;: }
  apache::namevhost { &quot;127.0.0.1:8080&quot;: ensure =&gt; present }
</pre>
        </div>
      </div>

      <div id="method-M000343" class="method-detail">
        <a name="M000343"></a>

        <div class="method-heading">
          <span class="method-name">proxypass</span><span class="method-args">( $params =&gt; [], $url =&gt; '', $filename =&gt; '', $location =&gt; '', $ensure =&gt; 'present', $vhost )</span>
        </div>

        <div class="method-description">
          <h2>Definition: apache::proxypass</h2>
<p>
Simple way of defining a <a href="apache.html#M000343">proxypass</a> <a
href="apache.html#M000341">directive</a> for a given virtualhost.
</p>
<p>
This definition will ensure all the required modules are loaded and will
drop a configuration snippet in the virtualhost&#8216;s <a
href="apache.html#M000338">conf</a>/ directory.
</p>
<p>
Parameters:
</p>
<ul>
<li><b>ensure</b>: present/absent.

</li>
<li><b>location</b>: path in virtualhost&#8216;s context to pass through using
the ProxyPass <a href="apache.html#M000341">directive</a>.

</li>
<li><b>url</b>: destination to which the ProxyPass <a
href="apache.html#M000341">directive</a> points to.

</li>
<li><b><a href="apache/params.html">params</a></b>: a table of key=value (min,
max, timeout, retry, etc.) described in the ProxyPass Directive
documentation <a
href="http://httpd.apache.org/docs/current/mod/mod_proxy.html#proxypass">httpd.apache.org/docs/current/mod/mod_proxy.html#proxypass</a>

</li>
<li><b><a href="apache.html#M000344">vhost</a></b>: the virtualhost to which
this <a href="apache.html#M000341">directive</a> will apply. Mandatory.

</li>
<li><b>filename</b>: basename of the file in which the <a
href="apache.html#M000341">directive</a>(s) will be put. Useful in the case
<a href="apache.html#M000341">directive</a> order matters: <a
href="apache.html">apache</a> reads the files in <a
href="apache.html#M000338">conf</a>/ in alphabetical order.

</li>
</ul>
<p>
Requires:
</p>
<ul>
<li>Class[&quot;<a href="apache.html">apache</a>&quot;]

</li>
<li>matching Apache::Vhost[] instance

</li>
</ul>
<p>
Example usage:
</p>
<pre>
  apache::proxypass { &quot;proxy legacy dir to legacy server&quot;:
    ensure   =&gt; present,
    location =&gt; &quot;/legacy/&quot;,
    url      =&gt; &quot;http://legacyserver.example.com&quot;,
    params   =&gt; [&quot;retry=5&quot;, &quot;ttl=120&quot;],
    vhost    =&gt; &quot;www.example.com&quot;,
  }
</pre>
        </div>
      </div>

      <div id="method-M000340" class="method-detail">
        <a name="M000340"></a>

        <div class="method-heading">
          <span class="method-name">redirectmatch</span><span class="method-args">( $url, $filename =&gt; '', $regex, $ensure =&gt; 'present', $vhost )</span>
        </div>

        <div class="method-description">
          <h2>Definition: apache::redirectmatch</h2>
<p>
Convenient way to declare a RedirectMatch <a
href="apache.html#M000341">directive</a> in a virtualhost context.
</p>
<p>
Parameters:
</p>
<ul>
<li><b>ensure</b>: present/absent.

</li>
<li><b>regex</b>: regular expression matching the part of the URL which should
get redirected. Mandatory.

</li>
<li><b>url</b>: destination URL the redirection should point to. Mandatory.

</li>
<li><b><a href="apache.html#M000344">vhost</a></b>: the virtualhost to which
this <a href="apache.html#M000341">directive</a> will apply. Mandatory.

</li>
<li><b>filename</b>: basename of the file in which the <a
href="apache.html#M000341">directive</a>(s) will be put. Useful in the case
<a href="apache.html#M000341">directive</a> order matters: <a
href="apache.html">apache</a> reads the files in <a
href="apache.html#M000338">conf</a>/ in alphabetical order.

</li>
</ul>
<p>
Requires:
</p>
<ul>
<li>Class[&quot;<a href="apache.html">apache</a>&quot;]

</li>
<li>matching Apache::Vhost[] instance

</li>
</ul>
<p>
Example usage:
</p>
<pre>
  apache::redirectmatch { &quot;example&quot;:
    regex =&gt; &quot;^/(foo|bar)&quot;,
    url   =&gt; &quot;http://foobar.example.com/&quot;,
    vhost =&gt; &quot;www.example.com&quot;,
  }
</pre>
        </div>
      </div>

      <div id="method-M000336" class="method-detail">
        <a name="M000336"></a>

        <div class="method-heading">
          <span class="method-name">userdirinstance</span><span class="method-args">( $ensure =&gt; 'present', $vhost )</span>
        </div>

        <div class="method-description">
        </div>
      </div>

      <div id="method-M000344" class="method-detail">
        <a name="M000344"></a>

        <div class="method-heading">
          <span class="method-name">vhost</span><span class="method-args">( $cgibin =&gt; 'true', $readme =&gt; 'false', $accesslog_format =&gt; 'combined', $group =&gt; '', $ports =&gt; ['&quot;*:80&quot;'], $mode =&gt; '2570', $admin =&gt; '', $ensure =&gt; 'present', $config_content =&gt; 'false', $user =&gt; '', $htdocs =&gt; 'false', $aliases =&gt; [], $docroot =&gt; 'false', $conf =&gt; 'false', $config_file =&gt; '' )</span>
        </div>

        <div class="method-description">
        </div>
      </div>

      <div id="method-M000345" class="method-detail">
        <a name="M000345"></a>

        <div class="method-heading">
          <span class="method-name">vhost-ssl</span><span class="method-args">( $cgibin =&gt; 'true', $readme =&gt; 'false', $accesslog_format =&gt; 'combined', $publish_csr =&gt; 'false', $certkey =&gt; 'false', $group =&gt; '', $sslonly =&gt; 'false', $certcn =&gt; 'false', $cert =&gt; 'false', $ports =&gt; ['&quot;*:80&quot;'], $days =&gt; '3650', $cacert =&gt; 'false', $mode =&gt; '2570', $admin =&gt; '::admin', $ensure =&gt; 'present', $sslports =&gt; ['&quot;*:443&quot;'], $certchain =&gt; 'false', $ip_address =&gt; '*', $config_content =&gt; 'false', $user =&gt; '', $htdocs =&gt; 'false', $cacrl =&gt; 'false', $aliases =&gt; [], $docroot =&gt; 'false', $conf =&gt; 'false', $config_file =&gt; '' )</span>
        </div>

        <div class="method-description">
          <h2>Definition: <a href="apache/vhost.html">apache::vhost</a>-<a href="apache/ssl.html">ssl</a></h2>
<p>
This definition is deprecated and was replaced by <a
href="apache/ssl.html">apache::vhost::ssl</a>.
</p>
<p>
The definition now wraps around <a
href="apache/ssl.html">apache::vhost::ssl</a> for backward compatibility
reasons.
</p>
        </div>
      </div>


    </div>


    <!-- if resource_list -->



  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>
